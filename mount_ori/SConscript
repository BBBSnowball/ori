import sys

Import('env')

src = [
    "ori_fuse.cc",
    "parse_opt.cc",
    "ori_priv.cc",
    "logging.cc",
    "ori_cmdoutput.cc",
    "repo_cmd.cc",
    "ori_openedfiles.cc",
]

libs = [
        "crypto",
        "lzma",
        "ori",
	"skein",
	"fastlz",
        ]

env.ParseConfig('pkg-config --libs --cflags fuse')
if sys.platform != "darwin":
    libs += ['rt', 'pthread']

env.Append(
        LIBS = libs,
        LIBPATH = [ "#build/libori", "#build/libskein", "#build/libfastlz", "$LIBPATH" ],
        CPPPATH = [ "#libori", "#libskein", "#libfastlz", "$CPPPATH", "#include", "#" ]
        )

env.Program("mount_ori", src)
