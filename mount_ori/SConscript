import sys

Import('env')

src = [
    "ori_fuse.cc",
    "parse_opt.cc",
    "ori_priv.cc",
    "logging.cc",
    "ori_cmdoutput.cc",
    "repo_cmd.cc",
]

libs = [
        "crypto",
        "lzma",
        "ori",
        ]

env.ParseConfig('pkg-config --libs --cflags fuse')
if sys.platform != "darwin":
    libs += ['rt']
    
env.Append(
        LIBS = libs,
        LIBPATH = [ "#build/libori", "$LIBPATH" ],
        CPPPATH = [ "#libori", "$CPPPATH", "#include", "#" ]
        )

env.Program("mount_ori", src)
