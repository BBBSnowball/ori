import sys

Import('env')

src = [
    "commit.cc",
    "largeblob.cc",
    "main.cc",
    "object.cc",
    "rabinkarp.cc",
    "repo.cc",
    "repo_cmd.cc",
    "scan.cc",
    "tree.cc",
    "util.cc",
]

libs = [
        "crypto",
        "stdc++",
        "lzma",
       ]
if sys.platform == "darwin":
    # TODO
    libs += []
else:
    libs += ['rt']

env.Program("ori", src,
            LIBPATH = [ "$LIBPATH" ],
	    LIBS = libs,
            CPPPATH = [ "$CPPPATH", "#include", "#" ])

